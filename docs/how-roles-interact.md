# Как взаимодействуют роли

См. также: [architecture.md](./architecture.md) | [roles-overview.md](./roles-overview.md)

---

## 1. Модель взаимодействия

Каждая роль в AI Office — это **независимый Claude Project**. Автоматической коммуникации между агентами нет. Ни одна роль не может напрямую вызвать другую. Никакого оркестрационного слоя в фоне не существует.

Пользователь — оркестратор.

Рабочий процесс:
1. Пользователь открывает Project роли A, даёт входные данные, получает результат
2. Пользователь копирует нужный результат (или оформленный REQUEST) в Project роли B
3. Роль B продолжает работу с этого места

Такой дизайн выбран намеренно. Каждая роль остаётся сфокусированной на своём домене. Контекст пересекает границы ролей только когда пользователь решает, что это нужно — и ровно в том объёме, который необходим.

---

## 2. Формат REQUEST

Чтобы передача была структурированной и однозначной, каждая роль формирует стандартизированный блок REQUEST при передаче работы другой роли. Пользователь копирует этот блок в диалог принимающей роли.

```
## REQUEST
**From:** [Название бота]
**To:** [Название бота]
**Task:** [Что нужно сделать]
**Context:** [Зачем это нужно, что было до]
**Inputs:** [Материалы от отправляющего бота]
**Output:** [Что должен произвести принимающий бот]
**Deadline:** [Когда]
```

**Пример:**

```
## REQUEST
**From:** Marketer
**To:** Copywriter
**Task:** Write landing page copy for the new course launch
**Context:** Campaign strategy approved. Target audience: online business owners, pain point is time. Positioning: "done in a week" transformation.
**Inputs:** Campaign brief (attached), audience profile, key messages list
**Output:** Full landing page copy — headline, subheadline, 3 benefit blocks, CTA, FAQ (5 items)
**Deadline:** 2026-02-25
```

Отправляющая роль формирует REQUEST как часть своего результата. Принимающая роль воспринимает его как полную спецификацию задачи и приступает к работе без дополнительных уточнений.

---

## 3. Типовые сценарии взаимодействия

### Создание контента

```
Marketer
  |-- стратегия + контент-бриф
  v
Copywriter
  |-- готовый текст
  v
Content Manager
  |-- запланировано, отформатировано, готово к публикации
```

Маркетолог определяет, что и зачем говорить. Копирайтер пишет. Контент-менеджер берёт на себя публикацию.

---

### Запуск курса

```
Methodologist
  |-- структура программы + результаты обучения
  v
Producer
  |-- план запуска + распределение задач
  v
Marketer ──────────────────── Copywriter
  |-- стратегия кампании         |-- продающая страница, письма
  v                              v
          Analyst
            |-- отслеживание метрик + отчёт после запуска
```

Методолог строит продукт. Продюсер координирует запуск. Маркетолог и копирайтер работают параллельно — над кампанией и текстами. Аналитик закрывает цикл.

---

### Оптимизация кампании

```
Analyst
  |-- данные о результатах + инсайты
  v
Marketer
  |-- корректировка стратегии
  v
Copywriter
  |-- новый креативный бриф + обновлённые сообщения
```

Начинается с данных, заканчивается обновлённым контентом. Никаких догадок.

---

### Стратегический разворот

```
Visionary
  |-- анализ рынка + стратегическая рекомендация
  v
Marketer
  |-- новое позиционирование + таргетинг аудитории
  v
Copywriter
  |-- новый мессенджинг-фреймворк + tone of voice
```

Используется при смене направления — новая ниша, новый оффер, новый рыночный сегмент.

---

### Полный цикл офиса

```
Visionary
  |-- направление + приоритеты
  v
Marketer
  |-- стратегия + кампании
  v
Producer
  |-- план проекта + назначения
  v
Methodologist   Copywriter   Designer
  |-- контент      |-- тексты   |-- визуалы
  v                v            v
          Content Manager
            |-- план публикаций
            v
          Analyst
            |-- результаты + рекомендации
            v
          Visionary  (цикл)
```

Это полный цикл для продукта или кампании — от стратегического замысла до измерения результатов и обратно. Не каждый проект требует всех ролей — используйте то, что нужно для задачи.

---

## 4. Карта AI Office

Карта AI Office — это JSON-файл конфигурации, который загружается в Project каждой роли как справочный документ.

Он содержит:
- Все 10 ролей с их названиями и краткими описаниями
- Домен и основные обязанности каждой роли
- Какие входные данные принимает каждая роль и какой результат производит
- Когда использовать каждую роль (триггеры)
- Каким ролям та или иная роль обычно передаёт работу

Каждый бот читает эту карту — а значит, каждый бот знает, кто ещё существует и куда перенаправить, если задача выходит за рамки его домена. Копирайтер, получивший запрос про аналитику, знает, что нужно перенаправить к аналитику. Продюсер, получивший стратегический вопрос, знает, что нужно обратиться к визионеру или маркетологу.

Карта не обеспечивает прямую коммуникацию — она обеспечивает точное перенаправление.

---

## 5. Что это означает на практике

**Ни одному боту не нужно знать всё.**
У каждой роли есть чётко определённый охват. Глубина внутри этого охвата важнее ширины охвата по всем областям.

**Каждый бот остаётся сфокусированным на своём домене.**
Когда приходит задача, которая относится к другому специалисту, бот говорит об этом и формирует REQUEST для нужной роли. Он не пытается покрыть область за пределами своей экспертизы.

**Качество — от глубины, не от широты.**
Копирайтер, который только пишет тексты — и делает это с полной концентрацией — производит лучший результат, чем универсал, пытающийся делать всё. То же самое для каждой роли.

**Пользователь — дирижёр; боты — оркестр.**
Пользователь решает, что делается, в каком порядке и когда контекст переходит от одной роли к другой. Боты работают точно в рамках своей зоны. Система производит связный результат, потому что пользователь держит общую картину.
