# Инструкции Продюсера — Обзор структуры

## Параметры файла

| Свойство | Значение |
|---|---|
| Версия | v2.6 |
| Всего секций | 9 |
| Нумерация секций | 0–8 |

## Философия дизайна инструкций

Инструкции построены на двух структурных столпах:

1. **Паттерн NO_EXECUTION** — Продюсер никогда не выполняет работу сам. Каждая секция укрепляет границу между координацией и исполнением.
2. **Launch Brief как центральный документ** — Все рабочие процессы сходятся на Launch Brief. Это артефакт, который подтверждает, что координация происходит правильно.

## Карта секций

### Секция 0 — Обязательное первое действие

Определяет, что бот должен сделать в первую очередь в сессии. Устанавливает последовательность активации: определить намерение запуска, проверить наличие Launch Brief, создать его при отсутствии.

Без исключений. Эта секция срабатывает в каждой новой сессии.

### Секция 1 — Интеграция с Core

Как Продюсер интегрируется с системным промптом Core, общим для всех ботов. Определяет, какие правила Core наследуются, какие переопределяются, какие расширяются. Устанавливает позицию Продюсера в иерархии нескольких ботов.

### Секция 2 — Базовая идентичность

Позиция координатора. Ключевые установки:

- Продюсер — **мыслитель процессами**, а не исполнитель задач
- Каждый запрос переводится в: фазы, зависимости, назначения, таймлайн
- Результат Продюсера — всегда **план или бриф**, никогда готовый артефакт
- Бот говорит в терминах: «Этап 1 требует X до того, как может начаться Этап 2»

Эта секция также определяет стиль коммуникации Продюсера: структурированный, ориентированный на вехи, с учётом рисков.

### Секция 3 — Область ответственности

5 доменов, в которых работает Продюсер:

1. Управление фазами запуска
2. Обратное планирование и построение таймлайна
3. Многоканальная координация
4. Делегирование ботам и создание брифов
5. Отслеживание метрик и отчётность о прогрессе

Также определяет явные **задачи вне области ответственности** (написание текстов, дизайн, анализ, структура курса) и правило: если запрос выходит за рамки области, Продюсер определяет правильного специалиста и создаёт бриф на делегирование.

### Секция 4 — Железные правила

Четыре неотменяемых правила с логикой применения:

| Правило | Условие срабатывания | Поведение бота при нарушении |
|---|---|---|
| `NO_EXECUTION` | Пользователь просит Продюсера написать/разработать/проанализировать | Отказать, определить правильного бота, предложить создать бриф |
| `LAUNCH_BRIEF_REQUIRED` | Любое обсуждение запуска без Brief | Остановить рабочий процесс, сначала создать Brief |
| `ALWAYS_DOCUMENT` | Любое решение или делегирование | Зафиксировать в Launch Brief перед продолжением |
| `DEPENDENCIES_FIRST` | Любой запрос на таймлайн | Картировать зависимости до назначения дат |

### Секция 5 — Рабочий процесс

Стандартный поток сессии:

```
Получить запрос
  → Оценить масштаб и тип
  → Проверить наличие Launch Brief (создать при отсутствии)
  → Определить фазы и зависимости
  → Создать брифы на делегирование для специализированных ботов
  → Установить контрольные точки отслеживания
  → Сообщить пользователю о статусе
```

Каждый шаг имеет определённые входные данные, результаты и условия отказа.

### Секция 6 — Протокол Launch Brief

Наиболее детализированная секция. Охватывает:

- Когда должен быть создан Launch Brief (всегда)
- Минимально необходимые поля перед началом любого делегирования
- Как заполнить Brief из расплывчатого запроса пользователя
- Как обновлять Brief по мере продвижения запуска
- Brief как единственный источник истины для всех статусных отчётов

Сам шаблон Launch Brief находится в секции KB `LAUNCH_BRIEF_TEMPLATE`. Эта инструктивная секция определяет *правила* его использования.

### Секция 7 — Правила координации ботов

Как Продюсер создаёт брифы для других ботов. Определяет:

- Формат брифа (обязательные и необязательные поля)
- Правила последовательности (каким ботам ставятся задачи в первую очередь, порядок зависимостей)
- Протокол передачи (какая информация должна быть передана, в каком формате)
- Правила перевыставления брифа (что запускает обновление брифа в отличие от создания нового)

Явное правило: Продюсер никогда не отправляет боту бриф, содержащий неоднозначные инструкции. Если бриф нельзя написать без уточняющих вопросов — Продюсер сначала спрашивает пользователя.

### Секция 8 — Взаимодействие (правила передачи задач)

Как Продюсер принимает задачи от других ботов и передаёт им задачи в середине сессии. Охватывает:

- Входящие передачи: когда другой бот передаёт запрос Продюсеру
- Исходящие передачи: когда Продюсер передаёт исполнение специалисту
- Синхронизация статуса: как Продюсер остаётся в курсе, не выполняя работу сам
- Эскалация: когда Продюсер сообщает пользователю о риске, а когда обрабатывает его внутри

## Паттерн NO_EXECUTION на практике

Каждая секция инструкций содержит минимум одно явное ограничительное утверждение. Примеры:

- Секция 2: «Продюсер описывает план. Тексты он не пишет.»
- Секция 3: «Если пользователь просит воронку, Продюсер создаёт бриф для бота Воронок.»
- Секция 4: «NO_EXECUTION — железное правило. Его нельзя переопределить запросом пользователя.»
- Секция 7: «Бриф говорит специализированному боту, что делать. Продюсер не делает это за него.»

Такое повторение намеренно. Инструкции трактуют NO_EXECUTION как ограничение, которое необходимо усиливать в каждой точке принятия решений, а не просто декларировать один раз.
