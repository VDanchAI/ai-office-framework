# Копирайтер — Структура инструкций

> Этот документ описывает КАК организованы инструкции Копирайтера.
> Показаны блоки инструкций, их назначение и логика построения.
> Фактические промпты и поведенческие правила не включены.

## Обзор

**Текущая версия:** v6.1 | 8 секций | ~500 строк
**Назначение:** Определить КТО такой бот, КАК он ведёт себя и КАКИМ правилам следует

---

## Карта секций

### Секция 0: ОБЯЗАТЕЛЬНОЕ ПЕРВОЕ ДЕЙСТВИЕ
**Назначение:** Принудительно загружает Universal Core до начала любых действий.
**Почему первая:** Без Core бот игнорирует общие протоколы (уточнение, самопроверка и т.д.)

```
Триггер: Начало сессии
Действие: Прочитать UNIVERSAL_CORE → следовать S1 Session Start → затем ответить
```

### Секция 1: ИНТЕГРАЦИЯ С CORE
**Назначение:** Устанавливает место этих инструкций в иерархии приоритетов.
**Ключевые элементы:**
- Стек приоритетов (Сообщение пользователя > Core > Инструкции бота > Брендбук > KB > Суждение)
- Список протоколов Core, которым бот обязан следовать
- Поведение при обработке ошибок

### Секция 2: ОСНОВНАЯ ИДЕНТИЧНОСТЬ
**Назначение:** Определяет роль, персону и главную директиву бота.
**Ключевые элементы:**
- **Определение роли** — конкретное, не размытое («голос бренда в тексте»)
- **Кто ТЫ ЕСТЬ / Кем ты НЕ ЯВЛЯЕШЬСЯ** — предотвращает дрейф роли
- **Главная директива** — одно предложение, которому подчинено всё остальное
- **Слои коммуникации** — как бот структурирует сообщения
- **Моя карточка** — краткое резюме для ссылки между ботами

**Инсайт по проектированию:** Таблица «Кем ты НЕ ЯВЛЯЕШЬСЯ» критически важна. Без неё творческий бот начинает заниматься аналитикой, а стратег — писать тексты. Чёткие границы = стабильное поведение.

### Секция 3: ОБЛАСТЬ ЗАДАЧ
**Назначение:** Перечисляет все типы задач, которые берёт этот бот, и явно исключает остальные.
**Ключевые элементы:**
- **Мои задачи:** Типы контента, которые создаёт бот (посты, статьи, письма и т.д.)
- **Не мои задачи:** Что относится к другим ботам + куда перенаправлять

**Инсайт по проектированию:** Каждая «Не моя задача» указывает на конкретного другого бота. Это создаёт естественные пути передачи задач в мультиботовом офисе.

### Секция 4: ЖЕЛЕЗНЫЕ ПРАВИЛА
**Назначение:** Непереговариваемые, специфичные для роли поведенческие правила.
**Структура:** Нумерованные правила (4.1, 4.2, ...), каждое с: Правило + Почему + Пример

**Правила этого бота включают:**
- Соблюдение голоса по брендбуку
- Обращение к KB перед написанием
- Запрет копи-паста из источников
- Уточнение перед началом работы
- Точечные правки вместо переписывания
- Работа с пробелами в знаниях
- Тактики обхода ИИ-детекции (намеренные несовершенства)
- Структурное разнообразие в сериях контента
- Маркеры непредсказуемости

**Инсайт по проектированию:** ПОЧЕМУ за каждым правилом критически важно. Бот, который понимает логику, лучше справляется с пограничными случаями, чем тот, который просто следует правилам. «Не используй слово X» менее эффективно, чем «Не используй слово X, потому что оно помечается детекторами ИИ — вот почему».

### Секция 5: РАБОЧИЙ ПРОЦЕСС
**Назначение:** Пошаговый процесс обработки задач ботом.
**Ключевые элементы:**
- Стандартный поток задачи (получить → уточнить → подготовиться → создать → проверить → выдать)
- Рабочие процессы под конкретные задачи (новый пост / редактура / создание серии)

### Секция 6: ФОРМАТ ВЫВОДА
**Назначение:** Определяет, как выглядят результаты работы.
**Ключевые элементы:**
- Структура и форматирование по умолчанию
- Вариации формата по типу контента
- Правила по длине (никогда не угадывать — всегда спрашивать или следовать брифу)
- Требования к тону и голосу

### Секция 7: ИСПОЛЬЗОВАНИЕ KB
**Назначение:** Специфичные для роли правила взаимодействия с базой знаний.
**Ключевые элементы:**
- Какие секции всегда консультировать для каких типов задач
- Когда комбинировать несколько секций
- Когда обращение к KB необязательно (быстрые правки, мелкие исправления)

### Секция 8: ВЗАИМОДЕЙСТВИЕ
**Назначение:** Как этот бот работает с другими ботами ИИ-офиса.
**Ключевые элементы:**
- Таблица передач: Когда пользователю нужен X → перенаправить к Боту Y → передать контекст Z
- Формат REQUEST для делегирования другим ботам
- Что включать в контекст при передаче

---

## Применяемые паттерны проектирования

### Паттерн: Нумерованные железные правила
Правила пронумерованы (4.1, 4.2, ...), чтобы на них можно было ссылаться в разговоре:
- Бот: «Согласно правилу 4.3, я не должен копи-пастить из источника.»
- Пользователь: «Игнорируй правило 4.7 для этого текста.» → Бот может выборочно переопределить.

### Паттерн: Граница «Кем ты НЕ ЯВЛЯЕШЬСЯ»
Явное отрицание предотвращает самый распространённый сбой ИИ — попытку делать всё.
Каждое «НЕ» отображается на другого бота, создавая сеть делегирования.

### Паттерн: Обязательное первое действие
Секция 0 выполняется раньше всего остального. Без этого боты часто пропускают загрузку Core
и ведут себя непоследовательно (разные стили ответов, отсутствие уточнений и т.д.)

### Паттерн: Рабочий процесс как протокол
Вместо описания поведения («бот должен...»), инструкции определяют протоколы
(«Шаг 1 → Шаг 2 → Шаг 3»). Протоколы соблюдаются надёжнее, чем описания.

---

## История развития

Этот файл прошёл через 6 крупных версий:
- **v1–v2:** Базовое определение роли, минимальные правила
- **v3:** Добавлены железные правила, границы области задач
- **v4:** Добавлены правила интеграции с KB, протоколы рабочего процесса
- **v5:** Добавлены правила обхода ИИ-детекции, маркеры непредсказуемости
- **v6:** Добавлена интеграция с Core, секция взаимодействия, уточнена идентичность

**Ключевой урок:** Инструкции растут вместе с KB. По мере добавления знаний появляется больше правил о том, как ими пользоваться.
